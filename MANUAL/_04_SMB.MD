# SMB

### Порядок действий

Непосредственно перед установкой обновим данные репозитория, для этого введём в терминале:

```sh
apt update
```

Перейдем непосредственно к установке Samba на Ubuntu. Отправим в терминал команду:

```sh
sudo apt install samba -y
```

Если в настраиваемой системе включен брандмауэр ufw, необходимо добавить разрешающее правило для Samba:

```sh
sudo ufw allow Samba
```

Лучше скопировать файл конфигурации по умолчанию, чтобы всегда оставлять себе возможность откатиться до дефолтных настроек Samba на Ubuntu. Копируем командой:

```sh
sudo cp /etc/samba/smb.conf /etc/samba/res_smb.conf
```

---
Настройка анонимного доступа к директории

Создадим директорию, к которой будет предоставлен доступ:
`Убедитесь что вы в домашней директории`

```sh
sudo mkdir /samba
sudo cd /samba
sudo mkdir /public
```

Добавим директории полные права для всех:

```sh
sudo chmod 777 /samba/public
```

Следующим шагом будут внесены изменения в директивы конфигурационного файла, в данной инструкции для этих целей использован текстовый редактор nano

```sh
sudo nano /etc/samba/smb.conf
```

Добавим в файл следующий директивы:

<img src="src\img\_04_SMB\1.png" width="500px"></img>

После внесения изменений перезапускаем демона Samba:

```sh
sudo systemctl restart smbd
```